# SpringSecurity集成Thymeleaf



# 一、快速入门

## 1.1 配置 Thymeleaf

**Maven坐标**

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-thymeleaf</artifactId>
</dependency>
```



**yaml配置文件**

```yaml
spring:
  thymeleaf:
    cache: false # 开发时可以不使用缓存
    check-template: true  # 检查前端页面thymeleaf模板是否存在

```





**添加thymeleaf模块，扩展名为html**

```xml
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>#[[$Title$]]#</title>        
</head>
<body>
#[[$END$]]#
</body>
</html>
```

> \#[[$Title$]]# #[[$END$]]# 这两处的作用是，当你新建一个模板页面时，在\<title\>标签中输入标题内容后，只需要点击回车键，光标就会直接跳到\<body\>内，省去了你挪动鼠标，或者挪动方向键的步骤，也可以节省一点点时间。

![image-20231022135249817](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20231022135249817.png)







## 1.2 Controller

```java
@Controller
@RequestMapping("/login")
public class LoginController {
    /**
     * 跳转到登陆页面
     */
    @RequestMapping("/toLogin")
    public String toLogin(){
//     返回thymeleaf的逻辑视图名。 物理视图=前缀+逻辑视图名+后缀,物理视图 = /templates/ + login + .html
        return "login";
    }

}
```



默认的前缀和后缀

![image-20231022142143660](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20231022142143660.png)





## 1.3 login.html

![image-20231022142801357](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20231022142801357.png)

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>用户登陆</title>
</head>
<body>
<h2>登录页面</h2>
<form action="/login/doLogin" method="post">
    <table>
        <tr>
            <td>用户名:</td>
            <td><input type="text" name="uname" value="thomas"></td>
        </tr>
        <tr>
            <td>密码:</td>
            <td><input type="password" name="pwd"></td>
            <span th:if="${param.error}">用户名或者密码错误</span>
        </tr>
        <tr>
            <td colspan="2">
                <button type="submit">登录</button>
            </td>
        </tr>
    </table>
</form>
</body>
```







## 1.4 main.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>系统首页</title>
</head>
<body>
<h1 align="center">系统首页</h1>
<a href="/student/query">查询学生</a>
<br>
<a href="/student/add">添加学生</a>
<br>
<a href="/student/update">更新学生</a>
<br>
<a href="/student/delete">删除学生</a>
<br>
<a href="/student/export">导出学生</a>
<br>
<br><br><br>
<h2><a href="/logout">退出</a></h2>
<br>
</body>
</html>
```





## 1.5 替换默认登录界面

