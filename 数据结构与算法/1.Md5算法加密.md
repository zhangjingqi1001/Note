# 算法加密

出差的过程中遇到了Md5加密算法，下面来了解一下



# 一、加密算法

## 1.1 对称加密

### 1.1.1 介绍

对称加密指`加密`和`解密`使用`相同密钥`的加密算法，也称为**单密钥加密**。

**特点**：

**①算法公开**

②计算量少

**③加密速度快**

④对同样大小的传输对象

⑤对称加密效率通常为非对称加密的千倍左右



因此通常被广泛应用于很多加密协议的核心工作（如**https在真正数据通信时就使用的对称加密算法**）。

**缺点**

①加解密使用同一把密钥，一旦一方秘钥泄露，传输的数据就存在安全风险

②与多方的通信需要使用不同的密钥，通信双方需要管理大量的密钥



**常见的对称加密算法**: DES、3DES、TDEA、Blowfish、RC2、RC4、RC5、IDEA、SKIPJACK等



## 1.2 非对称加密

### 1.2.1 介绍

非对称加密使用`一对公钥和私钥`来加密通信数据，也称为**双秘钥加密**。

公钥和私钥是成对出现的，通信数据使用公钥加密后，只能通过对应私钥来解密，同样使用私钥加密后也只能通过公钥来解密查看。

公钥是对外公开的，外界通信方可以很容易获取到，而私钥是不公开的，只存在于己方。

服务器使用私钥加密数据往外传输时，可以被持有公钥的客户端解密查看，但客户端使用公钥加密数据传输给服务端时，数据是严格安全的，只有服务器使用私钥才能解密查看。

因此**非对称秘钥数据通信是单向安全**的，**客户端使用服务端的公钥加密数据传向服务端时是严格加密安全**的。

如下图所示，Bob有两把钥匙，一个公钥，一个私钥

![image-20230809203549604](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230809203549604.png)



然后将公钥分给自己的好朋友，但是私钥还是Bob自己拿着

![image-20230809203653317](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230809203653317.png)

然后苏珊向Bob发送消息的时候利用公钥将其想要发送的信息加密，此时可以到达保密的效果

![image-20230809203839900](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230809203839900.png)

Bob收到信息后，利用自己的私钥将加密的信息进行解密。值得注意的是，只要Bob的私钥不泄露，这封信就是安全的，即是落在别人手中也无法解密

![image-20230809204148684](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230809204148684.png)







### 1.2.2 非对称加密的用途

**①单向传输加密数据，防止中间人攻击**。

> 使用公钥加密数据并传输给接受者，可以确保只有接受者才能获得明文信息，**一般用于交换对称密钥**

**②身份验证和数据校验**。

> 发送方使用私钥加密明文数据的hash值，并将明文、加密后的数据和公钥一起发送给接收方，接收方只需要通过公钥解密密文



## 1.3 摘要算法

**摘要算法也称为哈希算法、散列算法**，可以将任意⻓度的数据转换成⼀个定⻓的、不可逆的数字。

只要原 ⽂本不同，计算的结果必然不同（⼏乎不⽤考虑重复的情况）。摘要算法⽤于对⽐信息源是否⼀致，因为 只要数据源发⽣变化，得到的摘要信息必然不同，**通常⽤于签名校验**。 



消息摘要算法的**特点**: 

①⽆论输⼊的消息有多⻓，计算出来的消息摘要的⻓度总是固定的。 

②消息摘要不是真正的随机,因为⽤相同的算法对相同的消息求两次摘要，其结果必然相同 

③消息摘要函数是⽆陷⻔的单向函数，即只能进⾏正向的信息摘要，⽽⽆法从摘要中恢复出任何的消 息，甚⾄根本就找不到任何与原信息相关的信息 



**常⻅的摘要算法**有：MD5、SHA-1、MAC、CRC等； 



⼴泛应⽤于校验数据的完整性和敏感信息的传输和保存



### 1.3.1 MD5加密

MD5信息摘要算法，⼀种被⼴泛使⽤的**密码散列函数**，可以产⽣出⼀个128位（16字节）的散列值（hash value），⽤于**确保信息传输完整⼀致**。 

MD5算法⽆法防⽌碰撞（collision），因此不适⽤于安全性认证，如SSL公开密钥认证或是数字签名等⽤途。

#### 1.3.1.1 原理

MD5算法的**原理**

MD5码以512位分组来处理输⼊的信息，且每⼀分组⼜被划分为16个32位⼦分组，经过了⼀系列的处理后，算法的输出由四个32位分组组成，将这四个32位分组级联后将⽣成⼀个 128位散列值

> 

#### 1.3.1.2 代码实现



### 1.3.2 SHA1

SHA-1是⼀种**密码散列函数**。

SHA-1可以⽣成⼀个被称为消息摘要的160位（20字节）散列值，散列值通常的呈现形式为40个⼗六进制数。 



#### 1.3.2.1 原理

SHA1对任意⻓度明⽂的预处理和MD5的过程是⼀样的，即预处理完后的明⽂⻓度是512位的整数倍，但是有⼀点不同，那就是SHA1的原始报⽂⻓度不能超过2的64次⽅，然后SHA1⽣成160位的报⽂摘要。SHA1算 法简单⽽且紧凑，容易在计算机上实现。



###  1.3.3 SHA1与MD5的区别

![image-20230809213000974](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230809213000974.png)

> 上图中的128位与160位指的是摘要长度



**md5默认32位，sha1默认40位**

> 32与40的来源
>
> 一般将二进制转成16进制，每4个二进制数据转化为一个16进制数据

1.**安全性**：SHA1所产⽣的摘要⽐MD5⻓32位。若两种散列函数在结构上没有任何问题的话， SHA1⽐MD5更安全。 

2.**速度**：两种⽅法都是主要考虑以32位处理器为基础的系统结构。但SHA1的运算步骤⽐MD5 多了16步，⽽且SHA1记录单元的⻓度⽐MD5多了32位。因此若是以硬件来实现SHA1，其速 度⼤约⽐MD5慢了25％。

















