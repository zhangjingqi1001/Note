# 支付宝支付接入

https://open.alipay.com/



# 一、支付宝接入

打开网站后在下面的地方有需要文档可以查看，然后我们可以看一下”电脑网站支付“

![image-20230905233950847](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230905233950847.png)

> 电脑网站支付：[支付宝开放平台 (alipay.com)](https://open.alipay.com/api/detail?code=I1080300001000041203)
>
> 这个网站里面的介绍挺全的



**常规接入流程**：创建应用、绑定应用、配置秘钥、上线应用、签约功能

**沙箱接入流程**：直接使用沙箱提供的开发参数，无序进行应用的创建、绑定、上线和签约





## 1.1 常规接入流程

### 1.1.1 创建应用

首先在下面这个页面中找到如下标识并点击[支付宝开放平台 (alipay.com)](https://open.alipay.com/)

![image-20230906000256880](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906000256880.png)



之后会有一个接入流程，进行创建

![image-20230906000522412](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906000522412.png)

之后进入开放平台控制台[支付宝开放平台 (alipay.com)](https://open.alipay.com/develop/manage)，并选择一个合适的应用（上一步没创建应用的在这里创建也是可以的）

![image-20230906001036451](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906001036451.png)

之后点击详情，在这个地方有一个AppId，记下来会在配置文件中进行配置

![image-20230906001242048](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906001242048.png)



之后绑定我们的产品能力，之后点击确定

![image-20230906001934954](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906001934954.png)

之后便是这个样子

![image-20230906002135310](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906002135310.png)



设置一下接口加签方式（密钥/证书）

![image-20230906002424204](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906002424204.png)

可以使用密钥，也可以使用证书。我们在这里使用公钥即可

> 只有一些资金支出类接口必须使用证书方式
>
> ![image-20230906002726398](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906002726398.png)

![image-20230906002519584](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906002519584.png)

到了这一步就需要密钥生成器了，生成后复制到下面即可

而且这个参数很重要，记得记下来写到配置文件中

![image-20230906002845609](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906002845609.png)

此时密钥/证书设置完成，下面要设置支付宝网关地址。

支付宝网关地址：开发者调用 OpenAPI 发送 http(s) 请求的目标地址，需配置在AlipayClient中;

这是一个正式的主机地址：https://openapi.alipay.com/gateway.do

![image-20230906003735245](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906003735245.png)

应用网关和授权回调地址在单纯的支付业务中是不需要的

应用网关：用于接收生活号信息的

授权回调：用户信息授权、第三方授权

![image-20230906003909188](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906003909188.png)

再看一下接口内容加密方式，在我们这里是不用的

![image-20230906004108357](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906004108357.png)

![image-20230906004420585](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906004420585.png)

然后点击查看，就会看到一个密钥

![image-20230906004431133](https://picture-typora-zhangjingqi.oss-cn-beijing.aliyuncs.com/image-20230906004431133.png)





### 1.1.2 绑定应用





